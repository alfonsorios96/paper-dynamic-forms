<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">

<link rel="import" href="../paper-dynamic-forms.html">

<dom-module id="demo-element">
    <template>
        <style is="custom-style" include="demo-pages-shared-styles">
        </style>

        <iron-ajax
                auto
                url="data.json"
                handle-as="json"
                on-response="handleResponse"
                debounce-duration="300"></iron-ajax>

        <div class="vertical-section-container centered">
            <h3>Basic demo for paper-dynamic-forms</h3>
            <demo-snippet>
                <h2>Input text field</h2>
                <span>Please read all the properties for this element <a
                        href="https://www.webcomponents.org/element/PolymerElements/paper-input/elements/paper-input#properties">here</a></span>
                <paper-dynamic-forms type="text-input"
                                     sentences="[[responseRequest.inputText]]"></paper-dynamic-forms>
                <h2>Select field</h2>
                <paper-dynamic-forms type="option-input"
                                     sentences="[[responseRequest.inputOption]]"></paper-dynamic-forms>
            </demo-snippet>
        </div>
    </template>

    <script>
        'use strict';
        (function PaperDynamicFormsDefinition(customElements) {
            /**
             * `paper-dynamic-forms`
             * This component gives a easy and comfortable way to magives a easy and comfortable way to make dynamics prohectske dynamics projects. E.g. polls
             *
             * @customElement
             * @polymer
             * @demo demo/index.html
             */
            class DemoElement extends Polymer.Element {
                static get is() {
                    return 'demo-element';
                }

                static get properties() {
                    return {
                        responseRequest: Object
                    };
                }

                handleResponse(event) {
                    this.set('responseRequest', event.detail.__data.response);
                    console.log(this.responseRequest);
                }
            }

            customElements.define(DemoElement.is, DemoElement);
        })(window.customElements);
    </script>
</dom-module>